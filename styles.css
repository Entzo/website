@font-face {
    font-family: 'Outfit';
    src: url('/assets/fonts/Outfit-Variable.woff2') format('woff2');
    font-weight: 100 900;
    font-display: swap;
}

body {
    background-color: #161616;
    margin: 0;
    padding: 0;
    min-height: 100vh; /* Ensure full height */
}

/* CSS variables for maintaining the aspect ratio */
:root {
    --navbar-height: 6.02vh;   /* 65px in 1080p */
    --navbar-width: 36.645vw;  /* 703px in 1920p - from navigation.json */
    --navbar-ratio: calc(var(--navbar-width) / var(--navbar-height));
}

.navbar.rectangle {
    /* Fixed height with aspect ratio to maintain proportions */
    height: var(--navbar-height);
    width: calc(var(--navbar-height) * 10.82); /* Based on 703px:65px ratio */
    position: fixed;
    top: 2.31vh;         /* 25px in 1080p */
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000; /* Ensure the navbar stays above other content */
}

.nav-logo {
    position: absolute;
    left: 1.71%;       /* 12px / 703px = ~1.71% of navbar width */
    top: 24.62%;       /* 16px / 65px = ~24.62% of navbar height */
    width: 23.76%;     /* 167px / 703px = ~23.76% of navbar width */
    height: 49.23%;    /* 32px / 65px = ~49.23% of navbar height */
    object-fit: contain; /* Maintains aspect ratio */
}

.nav-links {
    /* No default active index - will be set via JavaScript before visibility */
    --active-index: 0;
    --item-count: 4; /* Number of nav links */
    display: flex;
    position: absolute;
    left: 30.01%;    /* (12px + 167px + 32px) / 703px = ~30.01% of navbar width */
    height: 100%;
    width: 69.99%;   /* Remaining space for links */
    margin: 0;
    padding: 0;
    opacity: 0; /* Start hidden */
    transition: opacity 0.2s ease-out;
}

/* Show links when they're ready */
.nav-links.visible {
    opacity: 1;
}

/* Class added to enable animations after initial positioning */
.nav-links.ready::after {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.nav-link {
    height: 100%;
    flex: 1;           /* Each link takes equal width */
    display: flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    font-family: 'Outfit', sans-serif;
    font-weight: 600;
    font-size: 2.59vh;  /* 28px in 1080p */
    color: white;    
    white-space: nowrap;
    position: relative;
    transition: color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 2;
}

.nav-link.active {
    color: #595959;
}

.nav-links::after {
    content: '';
    position: absolute;
    background: white;
    border-radius: 7.41vh; /* 80px in 1080p - same as default rectangle */
    width: calc(100% / var(--item-count)); /* Width based on number of nav items */
    height: 100%;    
    z-index: 1;
    /* No transition initially - will be added by .ready class */
    transform: translateX(calc(var(--active-index) * 100%));
}

.rectangle{
    border-radius: 7.41vh; /* 80px in 1080p */
    background: linear-gradient(to bottom right, 
        rgba(125, 125, 125, 0.275), /* #7D7D7D at 27.5% opacity */
        rgba(125, 125, 125, 0.10)   /* #7D7D7D at 10% opacity */
    );
    box-shadow: 0.37vh 0.37vh 3.7vh 0 rgba(0, 0, 0, 0.30); /* 4px 4px 40px 0 black 30% */
    backdrop-filter: blur(2.31vh); /* 25px Figma blur */
    -webkit-backdrop-filter: blur(2.31vh); /* For Safari */
}

.rectangle::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    border: 0.24vh solid transparent; /* 2px in 1080p - adjusted for actual rendering */
    background: linear-gradient(to bottom right, 
        rgba(156, 156, 156, 0.60), /* #9C9C9C at 60% */
        rgba(156, 156, 156, 0.25)  /* #9C9C9C at 25% */
    ) border-box;
    -webkit-mask:
        linear-gradient(white 0 0) padding-box, 
        linear-gradient(white 0 0);
    mask:
        linear-gradient(white 0 0) padding-box, 
        linear-gradient(white 0 0);
    -webkit-mask-composite: destination-out;
    mask-composite: exclude;
    pointer-events: none;
    z-index: -2;
}

/* Add page transition styles */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

body > *:not(nav) {
    animation: fadeIn 0.2s ease-out;
}
